split,question,schema,expected_sql
train,"¿Cuántos clientes tenemos activos en la tabla de usuarios?","CREATE TABLE usuarios (id INT, nombre VARCHAR, estado VARCHAR); -- estado: 'activo', 'inactivo'","SELECT count(*) FROM usuarios WHERE estado = 'activo';"
train,"Lista los nombres de productos que cuestan más de 50 dolares","CREATE TABLE productos (id INT, nombre_prod VARCHAR, precio DECIMAL);","SELECT nombre_prod FROM productos WHERE precio > 50;"
train,"Muestra el total de ventas por cada vendedor","CREATE TABLE ventas (id INT, vendedor_id INT, monto DECIMAL);","SELECT vendedor_id, sum(monto) FROM ventas GROUP BY vendedor_id;"
train,"Encuentra el email del usuario con id 123","CREATE TABLE users (user_id INT, email VARCHAR);","SELECT email FROM users WHERE user_id = 123;"
train,"¿Cuál es el precio promedio de los items?","CREATE TABLE items (id INT, price DECIMAL);","SELECT avg(price) FROM items;"
train,"Dame los ids de las órdenes creadas hoy","CREATE TABLE orders (order_id INT, created_at DATE);","SELECT order_id FROM orders WHERE created_at = CURRENT_DATE;"
train,"Selecciona todos los usuarios cuyo email termina en gmail.com","CREATE TABLE usuarios (id INT, email VARCHAR);","SELECT * FROM usuarios WHERE email LIKE '%@gmail.com';"
train,"Muestra el nombre del departamento y la cantidad de empleados que tiene","CREATE TABLE empleados (id INT, nombre VARCHAR, dep_id INT); CREATE TABLE departamentos (id INT, nombre_dep VARCHAR);","SELECT d.nombre_dep, count(e.id) FROM departamentos d JOIN empleados e ON d.id = e.dep_id GROUP BY d.nombre_dep;"
train,"Lista los productos que tienen stock cero","CREATE TABLE inventario (sku VARCHAR, producto VARCHAR, cantidad INT);","SELECT producto FROM inventario WHERE cantidad = 0;"
train,"¿Quién es el empleado con el salario más alto?","CREATE TABLE empleados (nombre VARCHAR, salario DECIMAL);","SELECT nombre FROM empleados ORDER BY salario DESC LIMIT 1;"
val,"¿Cuántos empleados hay en el departamento de Ventas?","CREATE TABLE empleados (id INT, nombre VARCHAR, departamento VARCHAR);","SELECT count(*) FROM empleados WHERE departamento = 'Ventas';"
val,"Muestra los 5 productos más caros","CREATE TABLE productos (sku VARCHAR, nombre VARCHAR, costo DECIMAL);","SELECT nombre, costo FROM productos ORDER BY costo DESC LIMIT 5;"
val,"Suma total de salarios por departamento","CREATE TABLE empleados (id INT, departamento VARCHAR, salario DECIMAL);","SELECT departamento, sum(salario) FROM empleados GROUP BY departamento;"
val,"Nombres de clientes que compraron el producto 'iPhone'","CREATE TABLE clientes (id INT, nombre VARCHAR); CREATE TABLE compras (cliente_id INT, producto VARCHAR);","SELECT c.nombre FROM clientes c JOIN compras co ON c.id = co.cliente_id WHERE co.producto = 'iPhone';"
val,"Lista las órdenes con monto mayor a 1000 del año 2023","CREATE TABLE ordenes (id INT, monto DECIMAL, fecha DATE);","SELECT * FROM ordenes WHERE monto > 1000 AND fecha >= '2023-01-01' AND fecha <= '2023-12-31';"
val,"Obtén el nombre del proyecto y el líder asignado","CREATE TABLE proyectos (id INT, nombre_proy VARCHAR, lider_id INT); CREATE TABLE empleados (id INT, nombre_emp VARCHAR);","SELECT p.nombre_proy, e.nombre_emp FROM proyectos p JOIN empleados e ON p.lider_id = e.id;"
test,"Selecciona el email de los clientes que viven en Madrid","CREATE TABLE clientes (id INT, email VARCHAR, ciudad VARCHAR);","SELECT email FROM clientes WHERE ciudad = 'Madrid';"
test,"Cuenta cuántas facturas están pendientes de pago","CREATE TABLE facturas (id INT, monto DECIMAL, estado VARCHAR); -- estado: 'pagada', 'pendiente'","SELECT count(*) FROM facturas WHERE estado = 'pendiente';"
test,"Promedio de edad de los estudiantes de primer año","CREATE TABLE estudiantes (id INT, edad INT, año_curso INT);","SELECT avg(edad) FROM estudiantes WHERE año_curso = 1;"
test,"Muestra los departamentos que tienen más de 10 empleados","CREATE TABLE empleados (id INT, dep_id INT); CREATE TABLE departamentos (id INT, nombre VARCHAR);","SELECT d.nombre FROM departamentos d JOIN empleados e ON d.id = e.dep_id GROUP BY d.nombre HAVING count(e.id) > 10;"
test,"Lista los libros publicados antes del año 2000","CREATE TABLE libros (titulo VARCHAR, año_publicacion INT);","SELECT titulo FROM libros WHERE año_publicacion < 2000;"
test,"Calcula el ingreso total generado por el cliente 'Empresa X'","CREATE TABLE clientes (id INT, razon_social VARCHAR); CREATE TABLE facturas (cliente_id INT, total DECIMAL);","SELECT sum(f.total) FROM facturas f JOIN clientes c ON f.cliente_id = c.id WHERE c.razon_social = 'Empresa X';"